---
title: Postgres
description: OLake Postgres Connector
---

## Overview {#overview}

Postgres Source enables data synchronization from Postgres to your [desired destination](../../writers/iceberg/overview).

::::info
OLake UI is live (beta)! You can now use the UI to configure your Postgres source, discover streams, and sync data. Check it out at [OLake UI](../../getting-started/olake-ui) regarding how to setup using Docker Compose and running it locally.
::::

<Tabs>

<TabItem value="postgres-ui" label="Use OLake UI for Postgres" default>

### Create a Postgres Source in OLake UI

Follow the steps below to get started with the Postgres Source using the OLake UI (assuming the OLake UI is running locally on [localhost:8000](localhost:8000)):
1. Navigate to Sources Tab.
2. Click on `+ Create Source`.
3. Select `Postgres` as the source type from Connector type.
4. Fill in the required connection details in the form. For details regarding the connection details, refer to the Postgres Source Configuration section on the right side of UI.
5. Click on `Create ->`
6. OLake will test the source connection and display the results. If the connection is successful, you will see a success message. If there are any issues, OLake will provide error messages to help you troubleshoot.

This will create a Postgres source in OLake, now you can use this source in your [Jobs Pipeline](../../jobs/overview) to sync data from Postgres to [Apache Iceberg](../../writers/iceberg/overview) or [AWS S3](../../writers/parquet/s3).

### Edit Postgres Source in OLake UI
1. Navigate to the Sources Tab.
2. Locate the Postgres source you want to edit from `Active Sources` or `Inactive Sources` tabs or using the search bar.
3. Click on the `Edit` button next to the source from the `Actions` tab (3 dots).
4. Update the connection details as needed in the form and Click on `Save Changes`.

::::caution
Editing a source can break pipeline.
::::

5. OLake will test the updated source connection once you hit confirm on the Source Editing Caution Modal.

### Jobs Associated with Postgres Source
In the Source Edit page, you can see the list of jobs that are associated with this source. You can also see the status of each job, whether it is running, failed, or completed and can pause the job from the same screen as well.

### Delete Postgres Source in OLake UI
1. Navigate to the Sources Tab.
2. Locate the Postgres source you want to delete from `Active Sources` or `Inactive Sources` tabs or using the search bar.
3. Click on the `Delete` button next to the source from the `Actions` tab (3 dots).

</TabItem>

<TabItem value="postgres-cli" label="Use OLake CLI for Postgres">

### To sync data TLDR:
1. Create a [`source.json`](./config) with your Postgres connection details.
2. Create a `destination.json` with your Writer ([Apache Iceberg](../../writers/iceberg/catalog/overview) / [AWS S3](../../writers/parquet/s3) / [Azure ADLS](../../writers/iceberg/azure) / [Google Cloud Storage](../../writers/iceberg/gcs)) connection details.
3. Run `discover` to generate a `streams.json` of available streams.
4. Run `sync` to replicate data to your specified destination.

### Features

- Resumable Full Load: Supports restarting full loads without reprocessing all data.
- Fast Full Load via Chunking (CTID-based, single split column, even/uneven chunking)
- WAL2JSON-based CDC Sync for incremental updates (pgoutput not yet supported)
- New streams are automatically synced when added
- LSN mismatch handling triggers a full resync

### Supported Destinations

<SupportedDestinations/>

### Setup and Configuration

To run the Postgres Driver, configure the following files with your specific credentials and settings:

- `source.json`: Postgres connection details.
- `streams.json`: List of tables/streams to sync (generated using Discover).
- `write.json`: Destination configuration.

### Source File
Add Postgres credentials in the `source.json` file as shown [here](#configurations).

### Commands

#### Discover Command

<Tabs>

<TabItem value="docker-postgres" label="OLake Docker" default>
<DockerDiscoverPostgres/>
</TabItem>

<TabItem value="docker-local" label="Locally run OLake" default>
<LocalDiscoverPostgres/>
</TabItem>

</Tabs>

#### Streams File
After executing Discover, a `streams.json` file is created. Read more about Streams File [here](#configurations).

#### Writer File
Read about:
1. [Apache Iceberg Destination config](../../writers/iceberg/catalog/overview)
2. [S3 writer](../../writers/parquet/s3)
3. [Local Filesystem writer](../../writers/parquet/local)

#### Sync Command

<Tabs>

<TabItem value="docker-postgres-2" label="OLake Docker" default>
<DockerSyncPostgres/>
</TabItem>

<TabItem value="docker-local-2" label="Locally run OLake" default>
<LocalSyncPostgres/>
</TabItem>

</Tabs>

To run sync with state:

<Tabs>

<TabItem value="docker-postgres-3" label="OLake Docker" default>
<DockerSyncWithStatePostgres/>
</TabItem>

<TabItem value="docker-local-3" label="Locally run OLake" default>
<LocalSyncWithStatePostgres/>
</TabItem>

</Tabs>

Find more about state file and its configuration in [Configurations](#configurations).

</TabItem>

</Tabs>

## Configurations {#configurations}

### `source.json` Configuration

<PostgresSourceConfig/>

#### Description of above parameters
<PostgresSourceConfigDetails/>

### `streams.json` Configuration

<StreamsOnly/>
<StreamsOnlyDetails/>

### `state.json` Configuration

<PostgresStateConfig/>
<PostgresStateConfigDetails/>

## Setup {#setup}

Setup guides open in a new tab:

- <a href="/docs/connectors/postgres/setup/aurora" target="_blank" rel="noopener noreferrer">Aurora</a>
- <a href="/docs/connectors/postgres/setup/rds" target="_blank" rel="noopener noreferrer">RDS</a>
- <a href="/docs/connectors/postgres/setup/local" target="_blank" rel="noopener noreferrer">Local</a>
- <a href="/docs/connectors/postgres/setup/azure" target="_blank" rel="noopener noreferrer">Azure</a>
- <a href="/docs/connectors/postgres/setup/gcp" target="_blank" rel="noopener noreferrer">GCP</a>
- <a href="/docs/connectors/postgres/setup/generic" target="_blank" rel="noopener noreferrer">Generic</a>

## Troubleshooting {#troubleshooting}

### Common Issues

#### File name too long & FATAL error
See Postgres Troubleshooting for details.


