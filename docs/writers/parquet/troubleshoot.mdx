---
title: Troubleshooting
description: Troubleshooting
sidebar_position: 4
---

# Troubleshooting S3 Writer

### 1. Failed to create AWS session

```bash
Symptom: failed to create AWS session: invalid configuration
```

**Cause:**  
- Missing or invalid AWS credentials (`AccessKey`, `SecretKey`).  
- Misconfigured region or endpoint for S3.

**Resolution:**  
- Ensure `Bucket`, `Region`, and authentication values are correctly set in configuration.  
- If using AWS IAM roles (EC2/ECS/EKS), you **do not need explicit keys**, but make sure the role is attached with correct permissions.  
- For **MinIO / GCS S3-compatible endpoints**, ensure that all **valid keys** are provided.

---

### 2. S3 Credentials or Permissions Errors

```bash
Symptom: failed to write test file to S3: AccessDenied: Access Denied OR failed to upload file to S3 ... 403 Forbidden
```

**Cause:**  
- The AWS credentials supplied to Olake do **not** have the minimum set of S3 actions or the bucket ARN is incorrect.

**Resolution:**  
- Make sure the IAM user / role has the JSON policy shown in the [IAM Permissions](/docs/writers/parquet/permission) page attached.
- If you use temporary credentials (STS), check that the session is still valid.
- Verify that the bucket name in the policy and in the destination configuration are identical (case-sensitive).
- For **MinIO** or **GCS**, ensure `S3Endpoint` is set in the destination config.

---
