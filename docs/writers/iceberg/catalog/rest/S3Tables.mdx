---
title: S3 Tables
description: S3 Tables REST Catalog configuration
---

**S3 Tables** is an AWS service that provides a REST catalog implementation for Apache Iceberg tables. It allows you to manage Iceberg tables directly through AWS S3 with AWS Signature V4 authentication.

### Prerequisites

Required services:
  - **AWS S3 bucket** – for storing Iceberg table data and metadata
  - **AWS account** – with appropriate permissions for S3 Tables service
  - **AWS credentials** – access key and secret key for authentication

<br/>

### Configuration

<Tabs>

  <TabItem value="s3tables-ui" label="OLake UI" default>

    In the OLake UI, go to the **Destinations** page and click **+ Create Destination**. From the list of connectors, choose **Iceberg**. In the configuration form that appears, select **REST** as the catalog type and fill in the required details.

    <div className='flex justify-center w-2/3 mx-auto'>
      ![S3 Tables UI Configuration](/img/docs/iceberg/catalog/rest/rest-config.jpeg)
    </div>

    **S3 Tables Configuration Parameters:**
    | Parameter        | Sample Value                               | Description                                                                                     |
    |------------------|--------------------------------------------|-------------------------------------------------------------------------------------------------|
    | REST Catalog URI | `https://s3tables.<REGION>.amazonaws.com/iceberg` | Specifies the endpoint URL for the S3 Tables REST catalog service. |
    | Iceberg S3 Path  | `arn:aws:s3tables:<REGION>:<ACCOUNT_ID>:bucket/<BUCKET_NAME>` | Determines the S3 Tables ARN for the bucket and namespace. |
    | Iceberg Database | `<NAMESPACE>`                              | Specifies the namespace within the S3 Tables bucket. |
    | AWS Region       | `<REGION>`                                 | Specifies the AWS region for the S3 Tables service. |
    | AWS Access Key   | `<AWS_ACCESS_KEY>`                         | AWS access key for authentication. |
    | AWS Secret Key   | `<AWS_SECRET_KEY>`                         | AWS secret key for authentication. |
    | REST Signing Name | `s3tables`                                 | Service name for AWS Signature V4. |
    | REST Signing Region | `<REGION>`                              | Region for AWS Signature V4 signing. |
    | REST Enable Signature V4 | `true`                                | Enable AWS Signature V4 signing. |

    **Authentication Fields (optional):**
    | Parameter                | Sample Value                        | Description                                                                                                   |
    |--------------------------|-------------------------------------|---------------------------------------------------------------------------------------------------------------|
    | Token                    | `abc...xyz`                         | Specifies the Bearer token sent in the Authorization header for authenticating with the REST catalog service. |
    | OAuth2 Auth URI          | `https://auth.server.com/oauth/token` | OAuth2 server URI for OAuth2 authentication.                                                                  |
    | REST Auth Type           | `oauth2`                            | Authentication type (e.g., "oauth2").                                                                         |
    | Credential (OAuth2)      | `your_id:your_secret`               | Specifies the client ID and secret for OAuth2, formatted as client_id:client_secret.                          |
    | Scope (OAuth2)           | `api.read api.write`                | OAuth2 scopes (space-separated).                                                                              |

  </TabItem>

  <TabItem value="s3tables-cli" label="OLake CLI">

    To connect to Iceberg using S3 Tables as the catalog, create `destination.json` with the following configuration:

    ```json title="destination.json"
{
  "type": "ICEBERG",
  "writer": {
        "catalog_type": "rest",
        "rest_catalog_url": "https://s3tables.<REGION>.amazonaws.com/iceberg",
        "iceberg_s3_path": "arn:aws:s3tables:<REGION>:<ACCOUNT_ID>:bucket/<BUCKET_NAME>",
        "iceberg_db": "<NAMESPACE>",
        "aws_access_key": "<AWS_ACCESS_KEY>",
        "aws_secret_key": "<AWS_SECRET_KEY>",
        "aws_region": "<REGION>",
        "rest_signing_name": "s3tables",
        "rest_signing_region": "<REGION>",
        "rest_signing_v_4": true
      }
  }
```

    #### S3 Tables Configuration Parameters
    | Parameter        | Sample Value                               | Description                                                                                                    |
    |------------------|--------------------------------------------|----------------------------------------------------------------------------------------------------------------|
    | catalog_type     | `rest`                                       | Defines the catalog type used by the writer. "rest" means the writer interacts with a RESTful catalog service. |
    | rest_catalog_url | `https://s3tables.<REGION>.amazonaws.com/iceberg` | Specifies the endpoint URL for the S3 Tables REST catalog service.                                           |
    | iceberg_s3_path  | `arn:aws:s3tables:<REGION>:<ACCOUNT_ID>:bucket/<BUCKET_NAME>` | Determines the S3 Tables ARN for the bucket and namespace.                                                |
    | iceberg_db       | `<NAMESPACE>`                                | Specifies the namespace within the S3 Tables bucket.                                                          |
    | aws_access_key   | `<AWS_ACCESS_KEY>`                           | AWS access key for authentication.                                                                             |
    | aws_secret_key   | `<AWS_SECRET_KEY>`                           | AWS secret key for authentication.                                                                             |
    | aws_region       | `<REGION>`                                   | Specifies the AWS region for the S3 Tables service.                                                           |
    | rest_signing_name | `s3tables`                                   | Service name for AWS Signature V4.                                                                             |
    | rest_signing_region | `<REGION>`                                | Region for AWS Signature V4 signing.                                                                          |
    | rest_signing_v_4 | `true`                                       | Enable AWS Signature V4 signing (boolean).                                                                    |

    #### Authentication Fields (optional):
    | Parameter                | Sample Value                        | Description                                                                                                   |
    |--------------------------|-------------------------------------|---------------------------------------------------------------------------------------------------------------|
    | token                    | `abc...xyz`                         | Specifies the Bearer token sent in the Authorization header for authenticating with the REST catalog service. |
    | oauth2_uri               | `https://auth.server.com/oauth/token` | OAuth2 server URI for OAuth2 authentication.                                                                  |
    | rest_auth_type           | `oauth2`                            | Authentication type (e.g., "oauth2").                                                                         |
    | credential               | `your_id:your_secret`               | Specifies the client ID and secret for OAuth2, formatted as client_id:client_secret.                          |
    | scope                    | `api.read api.write`                | OAuth2 scopes (space-separated).                                                                              |

  </TabItem>

</Tabs>

<br/>

### Querying Data

Once the data is synced successfully, you can query the Iceberg tables from any supported query engine using the following query:

<CatalogQuery />

<br/>

### Troubleshooting

- **Permission denied (AccessDenied)** – Ensure your AWS IAM user/role has `s3tables:*` and `s3:*` permissions for the bucket and namespace.

- **Invalid or expired credentials** – Double-check your AWS Access Key/Secret Key, or verify that temporary credentials haven’t expired.

- **Incorrect REST Catalog URI** – The endpoint must follow the format: `https://s3tables.<REGION>.amazonaws.com/iceberg`